@model IEnumerable<MVC.Areas.AdminPanel.Models.DTOs.OfferCartMessage.OfferCartMessageDTO>

@{
    ViewData["Title"] = "GetMessagesByUserId";
}

<h1 class="mb-4">Offer Cart Messages</h1>

<div class="container">
    <div class="card shadow-lg p-4">
        <div class="card-body">
            @if (Model.Any())
            {
                <div class="message-thread">
                    @foreach (var item in Model)
                    {
                        <div class="message-item mb-4 p-3 @(item.IsActive ? "bg-light" : "bg-secondary text-black") rounded">
                            <div class="d-flex justify-content-between mb-2">
                                <strong>User: @item.AppUserId (Username: @item.AppUserId)</strong>
                                <span class="text-muted small">Added on: @item.AddedDate.ToString("dd MMM yyyy HH:mm")</span>
                            </div>
                            <p class="message-text">@item.Message</p>
                            <div class="small text-muted d-flex justify-content-between">
                                <span>Offer Cart ID: @item.OfferCartId</span>
                                @if (item.UpdateDate.HasValue)
                                {
                                    <span>Updated: @item.UpdateDate.Value.ToString("dd MMM yyyy HH:mm")</span>
                                }
                                @if (item.DeleteDate.HasValue)
                                {
                                    <span>Deleted: @item.DeleteDate.Value.ToString("dd MMM yyyy HH:mm")</span>
                                }
                            </div>
                        </div>
                    }
                </div>
            }
            else
            {
                <div class="alert alert-warning text-center">
                    <strong>No messages found for this offer cart.</strong>
                </div>
            }
        </div>
    </div>
</div>
